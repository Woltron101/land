jQuery(document).ready(function(i){i(".slider1").slick(),i(".popup-gallery").slick(),i(".cear__slider").slick({dots:!0}),i(".slider-for").slick({slidesToShow:1,arrows:!0,fade:!0,asNavFor:".slider-nav"}),i(".slider-nav").slick({slidesToShow:4,asNavFor:".slider-for",dots:!0,focusOnSelect:!0,arrows:!0}),i(".questions__akard__item__question").on("click",function(){i(".questions__akard__item__question").removeClass("active"),i(this).addClass("active"),i(".questions__akard__item__ans").removeClass("active"),i(this).closest("li").find(".questions__akard__item__ans").addClass("active")});var t=function(t){i(this).magnificPopup({mainClass:t+" mfp-with-zoom",overflowY:"hidden",delegate:"> li > a",type:"image",gallery:{enabled:!0},callbacks:{markupParse:function(i,t,s){t.description=s.el.data("description")}},image:{headerFit:!0,captionFit:!0,preserveHeaderAndCaptionWidth:!1,markup:'<div class="mfp-figure"><figure><header class="mfp-header"><div class="mfp-top-bar"><div class="mfp-title"></div><div class="mfp-close"></div><div class="mfp-decoration"></div></div></header><section class="mfp-content-container"><div class="mfp-img"></div></section><footer class="mfp-footer"><figcaption class="mfp-figcaption"><div class="mfp-bottom-bar-container"><div class="mfp-bottom-bar"><div class="mfp-counter"></div><div class="mfp-description"></div><div class="mfp-decoration"></div></div></div></figcaption></footer></figure></div>',titleSrc:function(i){return i.el.attr("title")}}})};i("ul.magnific-gallery").each(function(){t.call(this,"mfp-example")}),i(function(){i.extend(!0,i.magnificPopup.defaults,{resize:function(){if(clearTimeout(this.st.resizeTimeout),this.isOpen&&"image"===this.currItem.type){this.wrap.removeClass("mfp-table"),this.st.image.preserveHeaderAndCaptionWidth&&this.currItem.img.parent().css("width",""),i.fn.redraw=function(){return this.hide(0,function(){i(this).show()})},this.content.redraw();var t,s,e=parseInt(this.currItem.img.css("max-height"),10),a=e,r=this.content.find(".mfp-header"),o=this.content.find(".mfp-figcaption").children().first();this.st.image.headerFit&&r&&(t=r.outerHeight(!0),a-=t),this.st.image.captionFit&&o&&(s=o.outerHeight(!0),a-=s),a!=e&&(this.currItem.img.css("max-height",a),e=a);var n=function(n){var c=n.img.outerWidth(),d=i("body").width()-parseInt(this.container.css("padding-left"),10)-parseInt(this.container.css("padding-right"),10);c<d&&this.wrap.addClass("mfp-table");var l,m;this.st.image.headerFit&&r&&(l=r.outerHeight(!0),l>t&&(a-=l-t)),this.st.image.captionFit&&o&&(m=o.outerHeight(!0),m>s&&(a-=m-s)),a!=e&&(n.img.css("max-height",a),this.st.image.preserveHeaderAndCaptionWidth&&n.img.parent().css("width",c)),delete this.st.callbacks.imageHasSize};this.currItem.hasSize?n.call(this,this.currItem):this.st.callbacks.imageHasSize=n}},callbacks:{open:function(){this.st.resize.call(this)},resize:function(){var i=this;clearTimeout(this.st.resizeTimeout),this.st.resizeTimeout=setTimeout(function(){i.st.resize.call(i)},100)},afterChange:function(){this.st.resize.call(this)}},image:{headerFit:!0,captionFit:!0,preserveHeaderAndCaptionWidth:!1,markup:'<div class="mfp-figure"><figure><header class="mfp-header"><div class="mfp-top-bar"><div class="mfp-title"></div><div class="mfp-close"></div></div></header><section class="mfp-content-container"><div class="mfp-img"></div></section><footer class="mfp-footer"><figcaption class="mfp-figcaption"><div class="mfp-bottom-bar-container"><div class="mfp-bottom-bar"><div class="mfp-counter"></div><div class="mfp-description"></div></div></div></figcaption></footer></figure></div>'}})})}),function(){function i(i,t,s){i.each(function(s,e){function a(i){return i.match(/(-?[0-9\.]+)/g)}var r,o,n,c=$(this),d=c.height();n=a(c.css("transform")),r=+n[5],o=100*r/d,i.hasClass("proj__big"),n&&c.css({"-webkit-transform":"translateY("+(o+t)+"%)","-ms-transform":"translateY("+(o+t)+"%)","-moz-transform":"translateY("+(o+t)+"%)",transform:"translateY("+(o+t)+"%)"})})}function t(i,t){i.css({"-webkit-transform":"translateY("+t+"%)","-ms-transform":"translateY("+t+"%)","-moz-transform":"translateY("+t+"%)",transform:"translateY("+t+"%)"})}var s=0;$(window).scroll(function(e){var a=$(this).scrollTop();a>s?$(".proj").each(function(){var s=$(this).offset().top,e=$(window).scrollTop()+$(window).height();s<e?(i($(".slow"),1,$(".proj")),i($(".slow"),1,$(".proj")),i($(".slow"),1,$(".proj")),i($(".fast"),3,$(".proj"))):(t($(".proj__gard-n"),1),t($(".proj__big"),1),t($(".proj__middle"),1),t($(".proj__small"),1))}):$(".proj").each(function(){var s=$(this).offset().top+$(this).height(),e=$(window).scrollTop();s>e?(i($(".proj__gard-n"),-1,$(".proj")),i($(".proj__big"),-1,$(".proj")),i($(".proj__middle"),-1,$(".proj")),i($(".proj__small"),-3,$(".proj"))):(console.log(111),t($(".proj__gard-n"),90),t($(".proj__big"),50),t($(".proj__middle"),50),t($(".proj__small"),200))}),s=a})}(),$(document).ready(function(){});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsialF1ZXJ5IiwiZG9jdW1lbnQiLCJyZWFkeSIsIiQiLCJzbGljayIsImRvdHMiLCJzbGlkZXNUb1Nob3ciLCJhcnJvd3MiLCJmYWRlIiwiYXNOYXZGb3IiLCJmb2N1c09uU2VsZWN0Iiwib24iLCJyZW1vdmVDbGFzcyIsInRoaXMiLCJhZGRDbGFzcyIsImNsb3Nlc3QiLCJmaW5kIiwib3BlbkdhbGxlcnkiLCJ0aGVtZSIsIm1hZ25pZmljUG9wdXAiLCJtYWluQ2xhc3MiLCJvdmVyZmxvd1kiLCJkZWxlZ2F0ZSIsInR5cGUiLCJnYWxsZXJ5IiwiZW5hYmxlZCIsImNhbGxiYWNrcyIsIm1hcmt1cFBhcnNlIiwidGVtcGxhdGUiLCJ2YWx1ZXMiLCJpdGVtIiwiZGVzY3JpcHRpb24iLCJlbCIsImRhdGEiLCJpbWFnZSIsImhlYWRlckZpdCIsImNhcHRpb25GaXQiLCJwcmVzZXJ2ZUhlYWRlckFuZENhcHRpb25XaWR0aCIsIm1hcmt1cCIsInRpdGxlU3JjIiwiYXR0ciIsImVhY2giLCJjYWxsIiwiZXh0ZW5kIiwiZGVmYXVsdHMiLCJyZXNpemUiLCJjbGVhclRpbWVvdXQiLCJzdCIsInJlc2l6ZVRpbWVvdXQiLCJpc09wZW4iLCJjdXJySXRlbSIsIndyYXAiLCJpbWciLCJwYXJlbnQiLCJjc3MiLCJmbiIsInJlZHJhdyIsImhpZGUiLCJzaG93IiwiY29udGVudCIsIm9yaWdpbmFsRmlndXJlSGVhZGVySGVpZ2h0Iiwib3JpZ2luYWxGaWd1cmVDYXB0aW9uSGVpZ2h0Iiwib3JpZ2luYWxNYXhIZWlnaHQiLCJwYXJzZUludCIsIm1heEhlaWdodCIsImZpZ3VyZUhlYWRlciIsImZpZ3VyZUNhcHRpb24iLCJjaGlsZHJlbiIsImZpcnN0Iiwib3V0ZXJIZWlnaHQiLCJzZXRXcmFwU2l6ZSIsImltYWdlV2lkdGgiLCJvdXRlcldpZHRoIiwiYm9keVdpZHRoIiwid2lkdGgiLCJjb250YWluZXIiLCJmaWd1cmVIZWFkZXJIZWlnaHQiLCJmaWd1cmVDYXB0aW9uSGVpZ2h0IiwiaW1hZ2VIYXNTaXplIiwiaGFzU2l6ZSIsIm9wZW4iLCJzZWxmIiwic2V0VGltZW91dCIsImFmdGVyQ2hhbmdlIiwicGFyYWxsYXhFbGVtIiwiZWxlbSIsInNwZWVkIiwiaW5kZXgiLCJtYXRyaXhUb0FycmF5Iiwic3RyIiwibWF0Y2giLCJ0cmFucyIsInRhbnNQZXJzIiwibWF0cml4IiwiJHRoaXMiLCJoZWlnaHQiLCJoYXNDbGFzcyIsIi13ZWJraXQtdHJhbnNmb3JtIiwiLW1zLXRyYW5zZm9ybSIsIi1tb3otdHJhbnNmb3JtIiwidHJhbnNmb3JtIiwic2V0RWxUcmFuc2xhdGUiLCJ0cmFuc2wiLCJsYXN0U2Nyb2xsVG9wIiwid2luZG93Iiwic2Nyb2xsIiwiZXZlbnQiLCJzY3JvbGxUb3AiLCJpbWFnZVBvcyIsIm9mZnNldCIsInRvcCIsInRvcE9mV2luZG93IiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU9DLFVBQVVDLE1BQU0sU0FBVUMsR0FDaENBLEVBQUUsWUFBWUMsUUFDZEQsRUFBRSxrQkFBa0JDLFFBQ3BCRCxFQUFFLGlCQUFpQkMsT0FDbEJDLE1BQU0sSUFFUEYsRUFBRSxlQUFlQyxPQUNoQkUsYUFBYyxFQUNkQyxRQUFRLEVBQ1JDLE1BQU0sRUFDTkMsU0FBVSxnQkFFWE4sRUFBRSxlQUFlQyxPQUNoQkUsYUFBYyxFQUNkRyxTQUFVLGNBQ1ZKLE1BQU0sRUFDTkssZUFBZSxFQUNmSCxRQUFRLElBRVRKLEVBQUUscUNBQXFDUSxHQUFHLFFBQVMsV0FDbERSLEVBQUUscUNBQXFDUyxZQUFZLFVBQ25EVCxFQUFFVSxNQUFNQyxTQUFTLFVBQ2pCWCxFQUFFLGdDQUFnQ1MsWUFBWSxVQUM5Q1QsRUFBRVUsTUFBTUUsUUFBUSxNQUFNQyxLQUFLLGdDQUFnQ0YsU0FBUyxXQTZEckUsSUFBSUcsR0FBYyxTQUFVQyxHQUMzQmYsRUFBRVUsTUFBTU0sZUFDUEMsVUFBV0YsRUFBUSxpQkFDbkJHLFVBQVcsU0FDWEMsU0FBVSxXQUNWQyxL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QUFhakYsRUFBRSxTQUFVLEVBQUdBLEVBQUUsVUFDOUJpRixFQUFhakYsRUFBRSxTQUFVLEVBQUdBLEVBQUUsVUFDOUJpRixFQUFhakYsRUFBRSxTQUFVLEVBQUdBLEVBQUUsWUFFOUJrRyxFQUFlbEcsRUFBRSxpQkFBa0IsR0FDbkNrRyxFQUFlbEcsRUFBRSxjQUFlLEdBQ2hDa0csRUFBZWxHLEVBQUUsaUJBQWtCLEdBQ25Da0csRUFBZWxHLEVBQUUsZ0JBQWlCLE1BSXBDQSxFQUFFLFNBQVNzQyxLQUFLLFdBQ2YsR0FBSW1FLEdBQVd6RyxFQUFFVSxNQUFNZ0csU0FBU0MsSUFBTTNHLEVBQUVVLE1BQU1rRixTQUMxQ2dCLEVBQWM1RyxFQUFFcUcsUUFBUUcsV0FDeEJDLEdBQVdHLEdBQ2QzQixFQUFhakYsRUFBRSxvQkFBc0JBLEVBQUUsVUFDdkNpRixFQUFhakYsRUFBRSxpQkFBbUJBLEVBQUUsVUFDcENpRixFQUFhakYsRUFBRSxvQkFBc0JBLEVBQUUsVUFDdkNpRixFQUFhakYsRUFBRSxtQkFBcUJBLEVBQUUsWUFFdEM2RyxRQUFRQyxJQUFJLEtBQ1paLEVBQWVsRyxFQUFFLGlCQUFrQixJQUNuQ2tHLEVBQWVsRyxFQUFFLGNBQWUsSUFDaENrRyxFQUFlbEcsRUFBRSxpQkFBa0IsSUFDbkNrRyxFQUFlbEcsRUFBRSxnQkFBaUIsUUFJckNvRyxFQUFnQnhELE9BbURsQjVDLEVBQUVGLFVBQVVDLE1BQU0iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCQpIHtcclxuXHQkKCcuc2xpZGVyMScpLnNsaWNrKCk7XHJcblx0JCgnLnBvcHVwLWdhbGxlcnknKS5zbGljaygpO1xyXG5cdCQoJy5jZWFyX19zbGlkZXInKS5zbGljayh7XHJcblx0XHRkb3RzOiB0cnVlXHJcblx0fSk7XHJcblx0JCgnLnNsaWRlci1mb3InKS5zbGljayh7XHJcblx0XHRzbGlkZXNUb1Nob3c6IDEsXHJcblx0XHRhcnJvd3M6IHRydWUsXHJcblx0XHRmYWRlOiB0cnVlLFxyXG5cdFx0YXNOYXZGb3I6ICcuc2xpZGVyLW5hdidcclxuXHR9KTtcclxuXHQkKCcuc2xpZGVyLW5hdicpLnNsaWNrKHtcclxuXHRcdHNsaWRlc1RvU2hvdzogNCxcclxuXHRcdGFzTmF2Rm9yOiAnLnNsaWRlci1mb3InLFxyXG5cdFx0ZG90czogdHJ1ZSxcclxuXHRcdGZvY3VzT25TZWxlY3Q6IHRydWUsXHJcblx0XHRhcnJvd3M6IHRydWVcclxuXHR9KTtcclxuXHQkKCcucXVlc3Rpb25zX19ha2FyZF9faXRlbV9fcXVlc3Rpb24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblx0XHQkKCcucXVlc3Rpb25zX19ha2FyZF9faXRlbV9fcXVlc3Rpb24nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHQkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHRcdCQoJy5xdWVzdGlvbnNfX2FrYXJkX19pdGVtX19hbnMnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHQkKHRoaXMpLmNsb3Nlc3QoJ2xpJykuZmluZCgnLnF1ZXN0aW9uc19fYWthcmRfX2l0ZW1fX2FucycpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHR9KVxyXG5cclxuXHQvLyAkKCcucG9wdXAtZ2FsbGVyeScpLm1hZ25pZmljUG9wdXAoe1xyXG5cdC8vICAgICBkZWxlZ2F0ZTogJ2EnLFxyXG5cdC8vICAgICB0eXBlOiAnaW1hZ2UnLFxyXG5cdC8vICAgICB0TG9hZGluZzogJ0xvYWRpbmcgaW1hZ2UgIyVjdXJyJS4uLicsXHJcblx0Ly8gICAgIG1haW5DbGFzczogJ21mcC1pbWctbW9iaWxlJyxcclxuXHQvLyAgICAgZ2FsbGVyeToge1xyXG5cdC8vICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuXHQvLyAgICAgICAgIG5hdmlnYXRlQnlJbWdDbGljazogdHJ1ZSxcclxuXHQvLyAgICAgICAgIHByZWxvYWQ6IFswLCAxXSAvLyBXaWxsIHByZWxvYWQgMCAtIGJlZm9yZSBjdXJyZW50LCBhbmQgMSBhZnRlciB0aGUgY3VycmVudCBpbWFnZVxyXG5cdC8vICAgICB9LFxyXG5cdC8vICAgICBpbWFnZToge1xyXG5cdC8vICAgICAgICAgdEVycm9yOiAnPGEgaHJlZj1cIiV1cmwlXCI+VGhlIGltYWdlICMlY3VyciU8L2E+IGNvdWxkIG5vdCBiZSBsb2FkZWQuJyxcclxuXHQvLyAgICAgICAgIHRpdGxlU3JjOiBmdW5jdGlvbihpdGVtKSB7XHJcblx0Ly8gICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZWwuYXR0cigndGl0bGUnKSArICc8c21hbGw+YnkgTWFyc2VsIFZhbiBPb3N0ZW48L3NtYWxsPic7XHJcblx0Ly8gICAgICAgICB9XHJcblx0Ly8gICAgIH1cclxuXHQvLyB9KTtcclxuXHQvLyAkKCcub3Blbi1wb3B1cC1saW5rJykubWFnbmlmaWNQb3B1cCh7XHJcblx0Ly8gXHR0eXBlOiAnaW5saW5lJyxcclxuXHQvLyBcdG1pZENsaWNrOiB0cnVlIC8vIEFsbG93IG9wZW5pbmcgcG9wdXAgb24gbWlkZGxlIG1vdXNlIGNsaWNrLiBBbHdheXMgc2V0IGl0IHRvIHRydWUgaWYgeW91IGRvbid0IHByb3ZpZGUgYWx0ZXJuYXRpdmUgc291cmNlIGluIGhyZWYuXHJcblx0Ly8gfSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblx0Ly8galF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoJCkge1xyXG5cdC8vIFx0JCgnI2Jhbm5lci1mYWRlJykuYmpxcyh7XHJcblx0Ly8gXHRcdCdoZWlnaHQnOiAzMjAsXHJcblx0Ly8gXHRcdCd3aWR0aCc6IDYyMCxcclxuXHQvLyBcdFx0J3Jlc3BvbnNpdmUnOiB0cnVlXHJcblx0Ly8gXHR9KTtcclxuXHQvLyB9KTtcclxuXHJcblxyXG5cdC8vICQoJy5nYWxsZXJ5X19pdGVtLmNvbC1tZC0zIGltZycpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG5cdC8vIFx0ZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG5cdC8vIFx0JCgnLmdhbGxlcnlfX2l0ZW0uY29sLW1kLTMgaW1nJykuZWFjaChmdW5jdGlvbiAoaSkge1xyXG5cdC8vIFx0XHRpZiAodGhpcyA9PSBldmVudC50YXJnZXQpIHtcclxuXHJcblx0Ly8gXHRcdFx0JCgnLmJqcXMnKS5maW5kKCdsaTp2aXNpYmxlJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuXHQvLyBcdFx0XHQkKCcuYmpxcycpLmZpbmQoJ2xpJykuZXEoaSkuY3NzKCdkaXNwbGF5JywgJ2lubGluZS1ibG9jaycpO1xyXG5cdC8vIFx0XHRcdGNvbnNvbGUubG9nKCdpICcsIGkpO1xyXG5cdC8vIFx0XHRcdGNvbnNvbGUubG9nKCckKFxcJy5wb3B1cC1nYWxsZXJ5XFwnKS5maW5kKFxcJy5zbGljay1zbGlkZVxcJykgJywgJCgnLnBvcHVwLWdhbGxlcnknKS5maW5kKCcuc2xpY2stc2xpZGUnKSk7XHJcblx0Ly8gXHRcdFx0Y29uc29sZS5sb2coJyQoXFwnLnBvcHVwLWdhbGxlcnlcXCcpLmZpbmQoXFwnLnNsaWNrLXNsaWRlXFwnKS5lcShpKSAnLCAkKCcucG9wdXAtZ2FsbGVyeScpLmZpbmQoJy5zbGljay1zbGlkZScpLmVxKGkpKTtcclxuXHJcblxyXG5cclxuXHQvLyBcdFx0fVxyXG5cclxuXHQvLyBcdH0pO1xyXG5cdC8vIH0pO1xyXG5cdC8qKlxyXG5cdCAqIE92ZXJsYXkgZm9yIGltYWdlcyAoZ2FsbGVyeSlcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0aGVtZVxyXG5cdCAqL1xyXG5cdHZhciBvcGVuR2FsbGVyeSA9IGZ1bmN0aW9uICh0aGVtZSkge1xyXG5cdFx0JCh0aGlzKS5tYWduaWZpY1BvcHVwKHtcclxuXHRcdFx0bWFpbkNsYXNzOiB0aGVtZSArICcgbWZwLXdpdGgtem9vbScsIC8vIG5vIHpvb20sIGp1c3QgZm9yIGJnIGZhZGVJblxyXG5cdFx0XHRvdmVyZmxvd1k6ICdoaWRkZW4nLFxyXG5cdFx0XHRkZWxlZ2F0ZTogJz4gbGkgPiBhJyxcclxuXHRcdFx0dHlwZTogJ2ltYWdlJyxcclxuXHRcdFx0Z2FsbGVyeToge1xyXG5cdFx0XHRcdGVuYWJsZWQ6IHRydWVcclxuXHRcdFx0fSxcclxuXHRcdFx0Y2FsbGJhY2tzOiB7XHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogQWRkcyBjdXN0b20gcGFyYW1ldGVycyB0byBtYXJrdXBcclxuXHRcdFx0XHQgKiBGb3IgZXhhbXBsZSBkYXRhLWRlc2NyaXB0aW9uIG9uIDxhPiBjYW4gYmUgdXNlZCBhcyBtZnAtZGVzY3JpcHRpb24gaW4gbWFya3VwIGh0bWxcclxuXHRcdFx0XHQgKlxyXG5cdFx0XHRcdCAqIEBwYXJhbSB0ZW1wbGF0ZVxyXG5cdFx0XHRcdCAqIEBwYXJhbSB2YWx1ZXNcclxuXHRcdFx0XHQgKiBAcGFyYW0gaXRlbVxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdG1hcmt1cFBhcnNlOiBmdW5jdGlvbiAodGVtcGxhdGUsIHZhbHVlcywgaXRlbSkge1xyXG5cdFx0XHRcdFx0dmFsdWVzLmRlc2NyaXB0aW9uID0gaXRlbS5lbC5kYXRhKCdkZXNjcmlwdGlvbicpOyAvLyBvciBpdGVtLmltZy5kYXRhKCdkZXNjcmlwdGlvbicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0aW1hZ2U6IHtcclxuXHRcdFx0XHRoZWFkZXJGaXQ6IHRydWUsXHJcblx0XHRcdFx0Y2FwdGlvbkZpdDogdHJ1ZSxcclxuXHRcdFx0XHRwcmVzZXJ2ZUhlYWRlckFuZENhcHRpb25XaWR0aDogZmFsc2UsXHJcblx0XHRcdFx0bWFya3VwOiAnPGRpdiBjbGFzcz1cIm1mcC1maWd1cmVcIj4nICtcclxuXHRcdFx0XHRcdCc8ZmlndXJlPicgK1xyXG5cdFx0XHRcdFx0JzxoZWFkZXIgY2xhc3M9XCJtZnAtaGVhZGVyXCI+JyArXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1mcC10b3AtYmFyXCI+JyArXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1mcC10aXRsZVwiPjwvZGl2PicgK1xyXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtZnAtY2xvc2VcIj48L2Rpdj4nICtcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibWZwLWRlY29yYXRpb25cIj48L2Rpdj4nICtcclxuXHRcdFx0XHRcdCc8L2Rpdj4nICtcclxuXHRcdFx0XHRcdCc8L2hlYWRlcj4nICtcclxuXHRcdFx0XHRcdCc8c2VjdGlvbiBjbGFzcz1cIm1mcC1jb250ZW50LWNvbnRhaW5lclwiPicgK1xyXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtZnAtaW1nXCI+PC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPC9zZWN0aW9uPicgK1xyXG5cdFx0XHRcdFx0Jzxmb290ZXIgY2xhc3M9XCJtZnAtZm9vdGVyXCI+JyArXHJcblx0XHRcdFx0XHQnPGZpZ2NhcHRpb24gY2xhc3M9XCJtZnAtZmlnY2FwdGlvblwiPicgK1xyXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtZnAtYm90dG9tLWJhci1jb250YWluZXJcIj4nICtcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibWZwLWJvdHRvbS1iYXJcIj4nICtcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibWZwLWNvdW50ZXJcIj48L2Rpdj4nICtcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibWZwLWRlc2NyaXB0aW9uXCI+PC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1mcC1kZWNvcmF0aW9uXCI+PC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPC9maWdjYXB0aW9uPicgK1xyXG5cdFx0XHRcdFx0JzwvZm9vdGVyPicgK1xyXG5cdFx0XHRcdFx0JzwvZmlndXJlPicgK1xyXG5cdFx0XHRcdFx0JzwvZGl2PicsXHJcblx0XHRcdFx0dGl0bGVTcmM6IGZ1bmN0aW9uIChpdGVtKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gaXRlbS5lbC5hdHRyKCd0aXRsZScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fTtcclxuXHJcblx0Ly8gR2FsbGVyaWVzXHJcblx0JCgndWwubWFnbmlmaWMtZ2FsbGVyeScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG5cdFx0b3BlbkdhbGxlcnkuY2FsbCh0aGlzLCAnbWZwLWV4YW1wbGUnKTtcclxuXHR9KTtcclxuXHJcblx0JChmdW5jdGlvbiAoKSB7XHJcblx0XHQvKipcclxuXHRcdCAqIEFkZHMgaGVhZGVyICYgY2FwdGlvbiBmdW5jdGlvbmFsaXR5XHJcblx0XHQgKiBAYXV0aG9yIE1hcmNpbiBHaWwgPG1nQG92b3MuYXQ+XHJcblx0XHQgKi9cclxuXHRcdCQuZXh0ZW5kKHRydWUsICQubWFnbmlmaWNQb3B1cC5kZWZhdWx0cywge1xyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogUmVzaXplcyB0aGUgb3ZlcmxheSB0byBmaXQgdGhlIHNjcmVlbiB0b2dldGhlciB3aXRoIGhlYWRlciAmIGNhcHRpb25cclxuXHRcdFx0ICovXHJcblx0XHRcdHJlc2l6ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdC8vIGNsZWFyIHJlc2l6ZSB0aW1lb3V0XHJcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuc3QucmVzaXplVGltZW91dCk7XHJcblxyXG5cdFx0XHRcdC8vIHJlc2l6ZSBldmVudCBtYXkgYmUgaW52b2tlZCBiZWZvcmUgdGhlIG92ZXJsYXkgd2FzIG9wZW5lZCBvciBieSBvdGhlciB0eXBlIG9mIG92ZXJsYXlcclxuXHRcdFx0XHRpZiAoIXRoaXMuaXNPcGVuIHx8IHRoaXMuY3Vyckl0ZW0udHlwZSAhPT0gJ2ltYWdlJykgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHQvLyByZW1vdmUgY2xhc3Mgd2hpY2ggZW5hYmxlcyB0YWJsZSBsYXlvdXRcclxuXHRcdFx0XHR0aGlzLndyYXAucmVtb3ZlQ2xhc3MoJ21mcC10YWJsZScpO1xyXG5cdFx0XHRcdC8vIGNsZWFyIHdpZHRoIG9uIGltYWdlIGNvbnRhaW5lclxyXG5cdFx0XHRcdGlmICh0aGlzLnN0LmltYWdlLnByZXNlcnZlSGVhZGVyQW5kQ2FwdGlvbldpZHRoKSB7XHJcblx0XHRcdFx0XHR0aGlzLmN1cnJJdGVtLmltZy5wYXJlbnQoKS5jc3MoJ3dpZHRoJywgJycpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gZW5zdXJlIHRoYXQgRE9NIGVsZW1lbnRzIGFyZSByZW5kZXJlZCBiZWZvcmUgd2UgYXNrIGZvciBzaXplcywgb3RoZXJ3aXNlIHdlIGdldCByYW5kb20gaGVpZ2h0c1xyXG5cdFx0XHRcdCQuZm4ucmVkcmF3ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuaGlkZSgwLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdCQodGhpcykuc2hvdygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHR0aGlzLmNvbnRlbnQucmVkcmF3KCk7XHJcblxyXG5cdFx0XHRcdC8vIHJlYWQgbWF4LWhlaWdodCBzZXQgYnkgdXBkYXRlU2l6ZSgpIGF0IHRoZSBlbmQgb2Ygb3BlbigpXHJcblx0XHRcdFx0dmFyIG9yaWdpbmFsTWF4SGVpZ2h0ID0gcGFyc2VJbnQodGhpcy5jdXJySXRlbS5pbWcuY3NzKCdtYXgtaGVpZ2h0JyksIDEwKTtcclxuXHRcdFx0XHR2YXIgbWF4SGVpZ2h0ID0gb3JpZ2luYWxNYXhIZWlnaHQ7XHJcblxyXG5cdFx0XHRcdC8vIGZpbmQgaGVhZGVyICYgY2FwdGlvbiBlbGVtZW50c1xyXG5cdFx0XHRcdHZhciBmaWd1cmVIZWFkZXIgPSB0aGlzLmNvbnRlbnQuZmluZCgnLm1mcC1oZWFkZXInKTtcclxuXHRcdFx0XHR2YXIgZmlndXJlQ2FwdGlvbiA9IHRoaXMuY29udGVudC5maW5kKCcubWZwLWZpZ2NhcHRpb24nKS5jaGlsZHJlbigpLmZpcnN0KCk7IC8vIGZpcnN0IGNoaWxkIGlzIFwidGFibGUtY2FwdGlvblwiXHJcblx0XHRcdFx0dmFyIG9yaWdpbmFsRmlndXJlSGVhZGVySGVpZ2h0LCBvcmlnaW5hbEZpZ3VyZUNhcHRpb25IZWlnaHQ7XHJcblxyXG5cdFx0XHRcdC8vIGlmIGhlYWRlckZpdCBpcyBlbmFibGVkIGFuZCBoZWFkZXIgZXhpc3RzLCBzdWJ0cmFjdCBpdCdzIGhlaWdodCBmcm9tIG1heC1oZWlnaHRcclxuXHRcdFx0XHRpZiAodGhpcy5zdC5pbWFnZS5oZWFkZXJGaXQgJiYgZmlndXJlSGVhZGVyKSB7XHJcblx0XHRcdFx0XHRvcmlnaW5hbEZpZ3VyZUhlYWRlckhlaWdodCA9IGZpZ3VyZUhlYWRlci5vdXRlckhlaWdodCh0cnVlKTtcclxuXHRcdFx0XHRcdG1heEhlaWdodCAtPSBvcmlnaW5hbEZpZ3VyZUhlYWRlckhlaWdodDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gaWYgY2FwdGlvbkZpdCBpcyBlbmFibGVkIGFuZCBjYXB0aW9uIGV4aXN0cywgc3VidHJhY3QgaXQncyBoZWlnaHQgZnJvbSBtYXgtaGVpZ2h0XHJcblx0XHRcdFx0aWYgKHRoaXMuc3QuaW1hZ2UuY2FwdGlvbkZpdCAmJiBmaWd1cmVDYXB0aW9uKSB7XHJcblx0XHRcdFx0XHRvcmlnaW5hbEZpZ3VyZUNhcHRpb25IZWlnaHQgPSBmaWd1cmVDYXB0aW9uLm91dGVySGVpZ2h0KHRydWUpO1xyXG5cdFx0XHRcdFx0bWF4SGVpZ2h0IC09IG9yaWdpbmFsRmlndXJlQ2FwdGlvbkhlaWdodDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gc2V0IG5ldyBtYXgtaGVpZ2h0IGlmIGl0IGhhcyBjaGFuZ2VkXHJcblx0XHRcdFx0aWYgKG1heEhlaWdodCAhPSBvcmlnaW5hbE1heEhlaWdodCkge1xyXG5cdFx0XHRcdFx0dGhpcy5jdXJySXRlbS5pbWcuY3NzKCdtYXgtaGVpZ2h0JywgbWF4SGVpZ2h0KTtcclxuXHRcdFx0XHRcdG9yaWdpbmFsTWF4SGVpZ2h0ID0gbWF4SGVpZ2h0O1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gZnVuY3Rpb24gY2hhbmdpbmcgbGF5b3V0IGZyb20gYmxvY2sgdG8gdGFibGUgd2hlbiBpbWFnZSBpcyBzbWFsbGVyIHRoYW4gdmlzaWJsZSBhcmVhXHJcblx0XHRcdFx0Ly8gdGhpcyBwcmV2ZW50cyBmcm9tIGhlYWRlciAmIGNhcHRpb24gZnJvbSBleHBhbmRpbmcgdGhlIG92ZXJsYXlcclxuXHRcdFx0XHR2YXIgc2V0V3JhcFNpemUgPSBmdW5jdGlvbiAoY3Vyckl0ZW0pIHtcclxuXHRcdFx0XHRcdHZhciBpbWFnZVdpZHRoID0gY3Vyckl0ZW0uaW1nLm91dGVyV2lkdGgoKTtcclxuXHRcdFx0XHRcdHZhciBib2R5V2lkdGggPSAkKCdib2R5Jykud2lkdGgoKSAtIHBhcnNlSW50KHRoaXMuY29udGFpbmVyLmNzcygncGFkZGluZy1sZWZ0JyksIDEwKSAtIHBhcnNlSW50KHRoaXMuY29udGFpbmVyLmNzcygncGFkZGluZy1yaWdodCcpLCAxMCk7XHJcblx0XHRcdFx0XHRpZiAoaW1hZ2VXaWR0aCA8IGJvZHlXaWR0aCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLndyYXAuYWRkQ2xhc3MoJ21mcC10YWJsZScpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIGFwcGx5IG5lY2Vzc2FyeSBjb3JyZWN0aW9ucyBpZiBoZWFkZXIgb3IgY2FwdGlvbiBnb3QgaGlnaGVyXHJcblx0XHRcdFx0XHR2YXIgZmlndXJlSGVhZGVySGVpZ2h0LCBmaWd1cmVDYXB0aW9uSGVpZ2h0O1xyXG5cclxuXHRcdFx0XHRcdC8vIGlmIGhlYWRlckZpdCBpcyBlbmFibGVkIGFuZCBoZWFkZXIgZXhpc3RzLCBzdWJ0cmFjdCBpdCdzIGhlaWdodCBmcm9tIG1heC1oZWlnaHRcclxuXHRcdFx0XHRcdGlmICh0aGlzLnN0LmltYWdlLmhlYWRlckZpdCAmJiBmaWd1cmVIZWFkZXIpIHtcclxuXHRcdFx0XHRcdFx0ZmlndXJlSGVhZGVySGVpZ2h0ID0gZmlndXJlSGVhZGVyLm91dGVySGVpZ2h0KHRydWUpO1xyXG5cdFx0XHRcdFx0XHRpZiAoZmlndXJlSGVhZGVySGVpZ2h0ID4gb3JpZ2luYWxGaWd1cmVIZWFkZXJIZWlnaHQpIHtcclxuXHRcdFx0XHRcdFx0XHRtYXhIZWlnaHQgLT0gZmlndXJlSGVhZGVySGVpZ2h0IC0gb3JpZ2luYWxGaWd1cmVIZWFkZXJIZWlnaHQ7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC8vIGlmIGNhcHRpb25GaXQgaXMgZW5hYmxlZCBhbmQgY2FwdGlvbiBleGlzdHMsIHN1YnRyYWN0IGl0J3MgaGVpZ2h0IGZyb20gbWF4LWhlaWdodFxyXG5cdFx0XHRcdFx0aWYgKHRoaXMuc3QuaW1hZ2UuY2FwdGlvbkZpdCAmJiBmaWd1cmVDYXB0aW9uKSB7XHJcblx0XHRcdFx0XHRcdGZpZ3VyZUNhcHRpb25IZWlnaHQgPSBmaWd1cmVDYXB0aW9uLm91dGVySGVpZ2h0KHRydWUpO1xyXG5cdFx0XHRcdFx0XHRpZiAoZmlndXJlQ2FwdGlvbkhlaWdodCA+IG9yaWdpbmFsRmlndXJlQ2FwdGlvbkhlaWdodCkge1xyXG5cdFx0XHRcdFx0XHRcdG1heEhlaWdodCAtPSBmaWd1cmVDYXB0aW9uSGVpZ2h0IC0gb3JpZ2luYWxGaWd1cmVDYXB0aW9uSGVpZ2h0O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gc2V0IG5ldyBtYXgtaGVpZ2h0IGlmIGl0IGhhcyBjaGFuZ2VkXHJcblx0XHRcdFx0XHRpZiAobWF4SGVpZ2h0ICE9IG9yaWdpbmFsTWF4SGVpZ2h0KSB7XHJcblx0XHRcdFx0XHRcdGN1cnJJdGVtLmltZy5jc3MoJ21heC1oZWlnaHQnLCBtYXhIZWlnaHQpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gd2hlbiB3ZSBjaGFuZ2UgaW1hZ2UncyBtYXgtaGVpZ2h0LCBoZWFkZXIgYW5kIGNhcHRpb24gd2lsbCBnZXQgbmFycm93ZXJcclxuXHRcdFx0XHRcdFx0Ly8gdGhpcyBjcmVhdGVzIGEgcmlzayB0aGF0IHRleHQgd2lsbCBmb2xkIGludG8gbW9yZSBsaW5lc1xyXG5cdFx0XHRcdFx0XHQvLyBhbmQgaGVhZGVyL2NhcHRpb24gd29uJ3QgZml0IG9uIHRoZSBzY3JlZW4gYW55bW9yZVxyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5zdC5pbWFnZS5wcmVzZXJ2ZUhlYWRlckFuZENhcHRpb25XaWR0aCkge1xyXG5cdFx0XHRcdFx0XHRcdGN1cnJJdGVtLmltZy5wYXJlbnQoKS5jc3MoJ3dpZHRoJywgaW1hZ2VXaWR0aCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRkZWxldGUgdGhpcy5zdC5jYWxsYmFja3MuaW1hZ2VIYXNTaXplO1xyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8vIGlmIGltYWdlIGlzIGFscmVhZHkgbG9hZGVkLCBjYWxsIHNldFdyYXBTaXplXHJcblx0XHRcdFx0aWYgKHRoaXMuY3Vyckl0ZW0uaGFzU2l6ZSkge1xyXG5cdFx0XHRcdFx0c2V0V3JhcFNpemUuY2FsbCh0aGlzLCB0aGlzLmN1cnJJdGVtKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gaWYgaW1hZ2UgaXMgc3RpbGwgbG9hZGluZywgYXR0YWNoIGlzIHRvIGltYWdlSGFzU2l6ZSBldmVudFxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhpcy5zdC5jYWxsYmFja3MuaW1hZ2VIYXNTaXplID0gc2V0V3JhcFNpemU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRjYWxsYmFja3M6IHtcclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBPcGVuIGV2ZW50XHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0b3BlbjogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dGhpcy5zdC5yZXNpemUuY2FsbCh0aGlzKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIFJlc2l6ZSBldmVudFxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdHJlc2l6ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0Ly8gYnVmZmVyZWQgY2FsbFxyXG5cdFx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMuc3QucmVzaXplVGltZW91dCk7XHJcblx0XHRcdFx0XHR0aGlzLnN0LnJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5zdC5yZXNpemUuY2FsbChzZWxmKTtcclxuXHRcdFx0XHRcdH0sIDEwMCk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBBZnRlciBjaGFuZ2UgZXZlbnRcclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHRhZnRlckNoYW5nZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0dGhpcy5zdC5yZXNpemUuY2FsbCh0aGlzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdGltYWdlOiB7XHJcblx0XHRcdFx0aGVhZGVyRml0OiB0cnVlLFxyXG5cdFx0XHRcdGNhcHRpb25GaXQ6IHRydWUsXHJcblx0XHRcdFx0cHJlc2VydmVIZWFkZXJBbmRDYXB0aW9uV2lkdGg6IGZhbHNlLFxyXG5cdFx0XHRcdG1hcmt1cDogJzxkaXYgY2xhc3M9XCJtZnAtZmlndXJlXCI+JyArXHJcblx0XHRcdFx0XHQnPGZpZ3VyZT4nICtcclxuXHRcdFx0XHRcdCc8aGVhZGVyIGNsYXNzPVwibWZwLWhlYWRlclwiPicgK1xyXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtZnAtdG9wLWJhclwiPicgK1xyXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtZnAtdGl0bGVcIj48L2Rpdj4nICtcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibWZwLWNsb3NlXCI+PC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPC9oZWFkZXI+JyArXHJcblx0XHRcdFx0XHQnPHNlY3Rpb24gY2xhc3M9XCJtZnAtY29udGVudC1jb250YWluZXJcIj4nICtcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibWZwLWltZ1wiPjwvZGl2PicgK1xyXG5cdFx0XHRcdFx0Jzwvc2VjdGlvbj4nICtcclxuXHRcdFx0XHRcdCc8Zm9vdGVyIGNsYXNzPVwibWZwLWZvb3RlclwiPicgK1xyXG5cdFx0XHRcdFx0JzxmaWdjYXB0aW9uIGNsYXNzPVwibWZwLWZpZ2NhcHRpb25cIj4nICtcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwibWZwLWJvdHRvbS1iYXItY29udGFpbmVyXCI+JyArXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1mcC1ib3R0b20tYmFyXCI+JyArXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1mcC1jb3VudGVyXCI+PC9kaXY+JyArXHJcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1mcC1kZXNjcmlwdGlvblwiPjwvZGl2PicgK1xyXG5cdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdFx0JzwvZmlnY2FwdGlvbj4nICtcclxuXHRcdFx0XHRcdCc8L2Zvb3Rlcj4nICtcclxuXHRcdFx0XHRcdCc8L2ZpZ3VyZT4nICtcclxuXHRcdFx0XHRcdCc8L2Rpdj4nXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHJcblx0Ly8gJCgnLm9wZW4tcG9wdXAtbGluaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHQvLyBcdHZhciBpbmRleCA9ICQodGhpcykuaW5kZXgoKTtcclxuXHJcblx0Ly8gXHQkKCcucG9wdXAtZ2FsbGVyeScpLmZpbmQoJy5zbGljay1jdXJyZW50LnNsaWNrLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdzbGljay1jdXJyZW50JykucmVtb3ZlQ2xhc3MoJ3NsaWNrLWFjdGl2ZScpO1xyXG5cdC8vIFx0JCgnLnBvcHVwLWdhbGxlcnknKS5maW5kKCcuc2xpY2stY3VycmVudC5zbGljay1hY3RpdmUnKS5lcShpbmRleCkuYWRkQ2xhc3MoJ3NsaWNrLWN1cnJlbnQnKS5hZGRDbGFzcygnc2xpY2stYWN0aXZlJyk7XHJcblx0Ly8gfSlcclxuXHJcbn0pO1xyXG4oZnVuY3Rpb24gKCkge1xyXG5cdHZhciBsYXN0U2Nyb2xsVG9wID0gMDtcclxuXHQkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uIChldmVudCkge1xyXG5cdFx0dmFyIHN0ID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcclxuXHRcdGlmIChzdCA+IGxhc3RTY3JvbGxUb3ApIHtcclxuXHJcblx0XHRcdCQoJy5wcm9qJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0dmFyIGltYWdlUG9zID0gJCh0aGlzKS5vZmZzZXQoKS50b3A7XHJcblx0XHRcdFx0dmFyIHRvcE9mV2luZG93ID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgJCh3aW5kb3cpLmhlaWdodCgpO1xyXG5cdFx0XHRcdGlmIChpbWFnZVBvcyA8IHRvcE9mV2luZG93KSB7XHJcblx0XHRcdFx0XHRwYXJhbGxheEVsZW0oJCgnLnNsb3cnKSwgMSwgJCgnLnByb2onKSk7XHJcblx0XHRcdFx0XHRwYXJhbGxheEVsZW0oJCgnLnNsb3cnKSwgMSwgJCgnLnByb2onKSk7XHJcblx0XHRcdFx0XHRwYXJhbGxheEVsZW0oJCgnLnNsb3cnKSwgMSwgJCgnLnByb2onKSk7XHJcblx0XHRcdFx0XHRwYXJhbGxheEVsZW0oJCgnLmZhc3QnKSwgMywgJCgnLnByb2onKSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHNldEVsVHJhbnNsYXRlKCQoJy5wcm9qX19nYXJkLW4nKSwgMSk7XHJcblx0XHRcdFx0XHRzZXRFbFRyYW5zbGF0ZSgkKCcucHJval9fYmlnJyksIDEpO1xyXG5cdFx0XHRcdFx0c2V0RWxUcmFuc2xhdGUoJCgnLnByb2pfX21pZGRsZScpLCAxKTtcclxuXHRcdFx0XHRcdHNldEVsVHJhbnNsYXRlKCQoJy5wcm9qX19zbWFsbCcpLCAxKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQkKCcucHJvaicpLmVhY2goZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZhciBpbWFnZVBvcyA9ICQodGhpcykub2Zmc2V0KCkudG9wICsgJCh0aGlzKS5oZWlnaHQoKTtcclxuXHRcdFx0XHR2YXIgdG9wT2ZXaW5kb3cgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcblx0XHRcdFx0aWYgKGltYWdlUG9zID4gdG9wT2ZXaW5kb3cpIHtcclxuXHRcdFx0XHRcdHBhcmFsbGF4RWxlbSgkKCcucHJval9fZ2FyZC1uJyksIC0xLCAkKCcucHJvaicpKTtcclxuXHRcdFx0XHRcdHBhcmFsbGF4RWxlbSgkKCcucHJval9fYmlnJyksIC0xLCAkKCcucHJvaicpKTtcclxuXHRcdFx0XHRcdHBhcmFsbGF4RWxlbSgkKCcucHJval9fbWlkZGxlJyksIC0xLCAkKCcucHJvaicpKTtcclxuXHRcdFx0XHRcdHBhcmFsbGF4RWxlbSgkKCcucHJval9fc21hbGwnKSwgLTMsICQoJy5wcm9qJykpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygxMTEpXHJcblx0XHRcdFx0XHRzZXRFbFRyYW5zbGF0ZSgkKCcucHJval9fZ2FyZC1uJyksIDkwKTtcclxuXHRcdFx0XHRcdHNldEVsVHJhbnNsYXRlKCQoJy5wcm9qX19iaWcnKSwgNTApO1xyXG5cdFx0XHRcdFx0c2V0RWxUcmFuc2xhdGUoJCgnLnByb2pfX21pZGRsZScpLCA1MCk7XHJcblx0XHRcdFx0XHRzZXRFbFRyYW5zbGF0ZSgkKCcucHJval9fc21hbGwnKSwgMjAwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0bGFzdFNjcm9sbFRvcCA9IHN0O1xyXG5cdH0pO1xyXG5cclxuXHRmdW5jdGlvbiBwYXJhbGxheEVsZW0oZWxlbSwgc3BlZWQsIGNvbnRhaW5lcikge1xyXG5cclxuXHJcblx0XHRlbGVtLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbCkge1xyXG5cdFx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpLFxyXG5cdFx0XHRcdGhlaWdodCA9ICR0aGlzLmhlaWdodCgpLFxyXG5cdFx0XHRcdHRyYW5zLFxyXG5cdFx0XHRcdHRhbnNQZXJzLFxyXG5cdFx0XHRcdG1hdHJpeDtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIG1hdHJpeFRvQXJyYXkoc3RyKSB7XHJcblx0XHRcdFx0cmV0dXJuIHN0ci5tYXRjaCgvKC0/WzAtOVxcLl0rKS9nKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRtYXRyaXggPSBtYXRyaXhUb0FycmF5KCR0aGlzLmNzcygndHJhbnNmb3JtJykpO1xyXG5cdFx0XHR0cmFucyA9ICttYXRyaXhbNV07XHJcblx0XHRcdHRhbnNQZXJzID0gdHJhbnMgKiAxMDAgLyBoZWlnaHQ7XHJcblx0XHRcdGlmIChlbGVtLmhhc0NsYXNzKCdwcm9qX19iaWcnKSkge1xyXG5cclxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZygndGFuc1BlcnMgJywgdGFuc1BlcnMpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKCcgJyArIGluZGV4LCB0cmFucyArIFwiIFwiICsgaGVpZ2h0ICsgXCIgXCIgKyB0YW5zUGVycyk7XHJcblx0XHRcdGlmIChtYXRyaXgpIHtcclxuXHRcdFx0XHQkdGhpcy5jc3Moe1xyXG5cdFx0XHRcdFx0XCItd2Via2l0LXRyYW5zZm9ybVwiOiBcInRyYW5zbGF0ZVkoXCIgKyAodGFuc1BlcnMgKyBzcGVlZCkgKyBcIiUpXCIsXHJcblx0XHRcdFx0XHRcIi1tcy10cmFuc2Zvcm1cIjogXCJ0cmFuc2xhdGVZKFwiICsgKHRhbnNQZXJzICsgc3BlZWQpICsgXCIlKVwiLFxyXG5cdFx0XHRcdFx0XCItbW96LXRyYW5zZm9ybVwiOiBcInRyYW5zbGF0ZVkoXCIgKyAodGFuc1BlcnMgKyBzcGVlZCkgKyBcIiUpXCIsXHJcblx0XHRcdFx0XHRcInRyYW5zZm9ybVwiOiBcInRyYW5zbGF0ZVkoXCIgKyAodGFuc1BlcnMgKyBzcGVlZCkgKyBcIiUpXCJcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx04oCLXHJcblxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gc2V0RWxUcmFuc2xhdGUoZWwsIHRyYW5zbCkge1xyXG5cdFx0Ly8gY29uc29sZS5sb2coZWwpO1xyXG5cdFx0ZWwuY3NzKHtcclxuXHRcdFx0XCItd2Via2l0LXRyYW5zZm9ybVwiOiBcInRyYW5zbGF0ZVkoXCIgKyB0cmFuc2wgKyBcIiUpXCIsXHJcblx0XHRcdFwiLW1zLXRyYW5zZm9ybVwiOiBcInRyYW5zbGF0ZVkoXCIgKyB0cmFuc2wgKyBcIiUpXCIsXHJcblx0XHRcdFwiLW1vei10cmFuc2Zvcm1cIjogXCJ0cmFuc2xhdGVZKFwiICsgdHJhbnNsICsgXCIlKVwiLFxyXG5cdFx0XHRcInRyYW5zZm9ybVwiOiBcInRyYW5zbGF0ZVkoXCIgKyB0cmFuc2wgKyBcIiUpXCJcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcbn0pKCk7XHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuXHJcbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
